<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"kjgggggg.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":false,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"./public/public/search.xml"};
  </script>

  <meta name="description" content="综述">
<meta property="og:type" content="article">
<meta property="og:title" content="综述">
<meta property="og:url" content="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/index.html">
<meta property="og:site_name" content="kjg&#39;s blog">
<meta property="og:description" content="综述">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/image-20230505100043653.png">
<meta property="og:image" content="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/7229530882217257481.PNG">
<meta property="og:image" content="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/image-20230505114539528.png">
<meta property="article:published_time" content="2023-05-04T06:29:17.000Z">
<meta property="article:modified_time" content="2023-05-09T06:48:35.686Z">
<meta property="article:author" content="kjg">
<meta property="article:tag" content="实习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/image-20230505100043653.png">

<link rel="canonical" href="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>综述 | kjg's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">kjg's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://kjgggggg.github.io/2023/05/04/01-%E7%BB%BC%E8%BF%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/WechatIMG84.jpeg">
      <meta itemprop="name" content="kjg">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kjg's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          综述
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-05-04 14:29:17" itemprop="dateCreated datePublished" datetime="2023-05-04T14:29:17+08:00">2023-05-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-09 14:48:35" itemprop="dateModified" datetime="2023-05-09T14:48:35+08:00">2023-05-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AE%9E%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">实习</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <div class="post-description">综述</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="HDF5"><a href="#HDF5" class="headerlink" title="HDF5"></a><a target="_blank" rel="noopener" href="http://web.mit.edu/fwtools_v3.1.0/www/index.html">HDF5</a></h3><h4 id="HDF5文件组织和数据模型"><a href="#HDF5文件组织和数据模型" class="headerlink" title="HDF5文件组织和数据模型"></a>HDF5文件组织和数据模型</h4><p>HDF5文件以分层结构组织，其中包含两个主要结构：组和数据集。</p>
<ul>
<li>group：分组结构包含零个或多个组或数据集的实例，以及支持元数据(metadata)。</li>
<li>dataset：数据元素的多维数组，以及支持元数据。</li>
</ul>
<h5 id="HDF5-Groups"><a href="#HDF5-Groups" class="headerlink" title="HDF5 Groups"></a>HDF5 Groups</h5><p>一个 HDF5 group 包含0个或者多个 HDF5 对象.  一个 group 有两部分:</p>
<ul>
<li>一个组头，包含组名和组属性列表</li>
<li>一个组符号表，它是属于组的HDF5对象的列表。</li>
</ul>
<h5 id="HDF5-Datasets"><a href="#HDF5-Datasets" class="headerlink" title="HDF5 Datasets"></a>HDF5 Datasets</h5><p>一个数据集存储在文件中，分为两部分： </p>
<ul>
<li><p>数据集头 : 数据集头有解释数据集的数组部分所需的信息，以及描述或注释数据集的元数据（或指向元数据的指针）还包括对象的名称，维度，数字类型，有关数据本身存储在磁盘上的信息，以及用于加速访问数据集或维护文件完整性的库的其他信息。</p>
<p>一个数据集头中有四个基本信息类别:</p>
<ul>
<li><p>name： 数据集名称</p>
</li>
<li><p>datatype :	原子数据类型和复合数据类型。原子数据类型可以是系统特定的或者原生的。所有的数据类型都可以命名</p>
<blockquote>
<p>  原生数据类型是指HDF5库中定义的一组基本数据类型，可以直接在HDF5数据集中使用。这些数据类型与常见的编程语言数据类型相对应，可以在不同平台和编程语言之间保持一致性, 如：<code>H5T_NATIVE_DOUBLE：平台本机双精度浮点数类型</code></p>
<p>  系统特定的数据类型是指HDF5库中定义的一组数据类型，这些数据类型是平台特定的，即它们的实现依赖于特定的操作系统和编译器。这些数据类型是HDF5库提供的附加数据类型，它们扩展了HDF5原生数据类型的功能，允许用户在不同平台上共享HDF5文件。如： <code>H5T_UNIX_D32BE：32位大端UNIX日期和时间类型。</code></p>
</blockquote>
</li>
<li><p>dataspace：描述数据集的维数，是可以动态变化的。它还可以描述数据集的部分，使得可以对选择进行部分I &#x2F; O操作。 给定一个n维数据集，目前有四种方法进行部分选择：</p>
<ul>
<li>选择一个逻辑上连续的n维hyperslab</li>
<li>选择由间距相等的元素或元素块(hyperlab)组成的非连续hyperlab。</li>
<li>选择多个hyperslab的并集</li>
<li>Select a list of independent points （选择独立点列表）</li>
</ul>
<blockquote>
<p>  hyperslab是指一个多维数据集的子集，由一个起始点和一个结束点定义的。可以被看作是数据集的一个切片或子矩阵</p>
<p>  例如，对于一个二维数据集，一个hyperslab可以通过起始点(x1, y1)和结束点(x2, y2)来定义。</p>
<p>  在HDF5中，可以使用Hyperslab Selection API来创建、读取和写入hyperslab。使用Hyperslab Selection API，可以通过指定起始点和结束点来选择数据集的子集，并对它们进行操作，而不需要读取整个数据集。这种方法可以大大提高HDF5数据集的读取和写入效率。</p>
</blockquote>
</li>
<li><p>storage layout：两种存储布局移式：compact (紧凑型) 和 chunk(分块型)</p>
<ul>
<li><p>紧凑存储用于数据量较小且可以直接存储在对象头中的情况</p>
</li>
<li><p>分块存储涉及将数据集划分为大小相等的“块”，这些“块”分别存储：</p>
<ol>
<li><p>改善性能：分块允许高效地访问数据集的子集，即使子集不在数据集的正常存储顺序中。</p>
</li>
<li><p>支持压缩：可以对大型数据集进行压缩，并在访问数据集的子集时仍能实现良好的性能。</p>
</li>
<li><p>支持扩展：可以高效地沿任何方向扩展数据集的维度。</p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li><p>数据数组</p>
</li>
</ul>
<h5 id="HDF5-Attributes"><a href="#HDF5-Attributes" class="headerlink" title="HDF5 Attributes"></a>HDF5 Attributes</h5><p>此外，任何 group 或 dataset 都可能有一个相关的 attribute list (属性列表)。HDF5 attribute(属性) 是用户定义的HDF5结构，它提供关于HDF5对象的额外信息</p>
<h4 id="压缩算法"><a href="#压缩算法" class="headerlink" title="压缩算法"></a>压缩算法</h4><ul>
<li><p>HDF5自带ZLib和Szip开源压缩库</p>
<blockquote>
<p>  ZLib使用DEFLATE算法进行数据压缩和解压缩。它具有较高的压缩比和快速的解压速度，因此在许多应用中都被广泛使用，例如在HTTP协议中使用的Gzip压缩（底层也是DEFLATE）。ZLib库的API简单易用，且在许多编程语言中都有可用的绑定。</p>
<p>  Szip是一种专为科学数据压缩而设计的库，它使用了基于多项式的算法来实现高效的压缩和解压缩。与ZLib相比，Szip可以在某些情况下提供更高的压缩比，但需要更多的计算资源来完成压缩和解压缩操作。Szip库通常用于处理大型科学数据集，如气象、卫星和天文数据。</p>
</blockquote>
</li>
<li><p>HDF5支持自定义压缩算法，如Aec&#x2F;Bzip&#x2F;Lzf&#x2F;LZ4等算法</p>
<blockquote>
<p>  Aec：全称为”Adaptive Entropy Coding”，是一种基于自适应算法的数据压缩算法。Aec算法的核心是根据输入数据的特征自适应调整压缩算法，从而实现高效的数据压缩和解压缩。Aec算法广泛用于计算机图像、音频和视频等多媒体数据的压缩。</p>
<p>  Bzip：是一种广泛使用的数据压缩算法和程序，它使用Burrows-Wheeler转换和霍夫曼编码来实现高效的数据压缩。Bzip算法通常比Gzip算法提供更高的压缩比，但需要更多的计算资源和时间来完成压缩和解压缩操作。Bzip程序可以通过命令行或图形用户界面来使用，常用于Unix&#x2F;Linux操作系统和Internet上的文件传输。</p>
<p>  Lzf：Lzf全称为”Lempel-Ziv-Featherstone”，是一种高速的无损数据压缩算法。Lzf算法的核心是基于LZ77算法和滑动窗口技术，可以在快速压缩和解压缩数据的同时保持较高的压缩比。Lzf算法通常用于内存限制较严格的应用程序中，例如嵌入式系统和游戏开发。</p>
<p>  LZ4：是一种高速的无损数据压缩算法，它可以在快速压缩和解压缩数据的同时保持较高的压缩比。LZ4算法的设计目标是在不损失压缩比的情况下提高压缩和解压缩的速度</p>
</blockquote>
</li>
</ul>
<p><img src="/2023/05/04/01-%E7%BB%BC%E8%BF%B0/image-20230505100043653.png" alt="image-20230505100043653"></p>
<h5 id="Gzip、Bzip和DEFLATE"><a href="#Gzip、Bzip和DEFLATE" class="headerlink" title="*Gzip、Bzip和DEFLATE"></a>*<strong>Gzip、Bzip和DEFLATE</strong></h5><p>DEFLATE算法是一种通用的无损数据压缩算法，而Gzip和Bzip是基于DEFLATE算法的扩展，它们各自适用于不同的场景和压缩需求。Gzip通常用于快速压缩和解压缩单个文件，而Bzip通常用于需要更高压缩比的场景，例如压缩大型数据集和备份文件</p>
<h4 id="读写原理"><a href="#读写原理" class="headerlink" title="读写原理"></a>读写原理</h4><p>HDF5文件的底层原理是基于B树和B+树的数据结构。HDF5文件包含一个根组（Root Group）和多个子组（Sub Group）。每个组都包含一个或多个数据集（Dataset），每个数据集又包含一个或多个数据元素（Data Element）。数据元素可以是各种数据类型，例如整数、浮点数、字符串、复数等等。</p>
<p>当我们打开一个HDF5文件时，文件被映射到内存中，并分配一个文件句柄（File Handle）。文件句柄用于跟踪文件的打开和关闭，以及在文件中定位数据元素的位置。在内存中，文件的组织结构被表示为一个树形结构，其中根组是树的根节点。当我们访问HDF5文件中的数据时，程序通过递归遍历树来查找需要的数据元素。</p>
<p>为了提高文件的读取和写入速度，HDF5使用了一种称为“分块（Chunking）”的技术。在分块技术中，每个数据集被分成多个块，每个块可以独立地读取或写入。这使得HDF5文件能够高效地处理大型数据集，因为只有需要的数据块才会被读取或写入，而不需要将整个数据集加载到内存中。</p>
<h4 id="测试性能"><a href="#测试性能" class="headerlink" title="测试性能"></a>测试性能</h4><p>测试服务器为<code>双核超线程Intel(R) Xeon(R) E5-2640 CPU 32GB内存</code>。</p>
<ul>
<li><p>CSV文本文件中存储盘口快照的数据，每天约4800行，占用空间1.8MB。</p>
</li>
<li><p>HDF5文件以Gzip算法（Level4）存储数据，每天的数据约占用空间0.25MB。</p>
</li>
<li><p>用Python读取HDF5文件，对每天的数据生成numpy.array数据结构，约耗时5.5ms</p>
</li>
<li><p>用Python读取HDF5文件，对每天的数据生成pandas.DataFrame数据结构，约耗时9.0ms</p>
</li>
<li><p>用Python读取CSV文件，对每天的数据生成pandas.DataFrame数据结构，约耗时35~40ms</p>
</li>
</ul>
<p>从数据对比可以看出，HDF5文件的存储效率和读取速度均远优于常规的文本文件。</p>
<h3 id="XZ"><a href="#XZ" class="headerlink" title="XZ"></a><a target="_blank" rel="noopener" href="https://tukaani.org/xz/">XZ</a></h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>XZ Utils是免费的通用数据压缩软件，具有高压缩比。XZ Utils是为类似posix的系统编写的，但也适用于一些不那么posix的系统。XZ Utils是LZMA Utils的继承者。<strong>压缩代码的核心是基于LZMA SDK的，但是为了适合XZ Utils，它已经被修改了很多。目前主要的压缩算法是LZMA2，它在.xz容器格式中使用</strong>。对于典型的文件，XZ Utils创建的输出比gzip小30%，比bzip2小15%。</p>
<p>XZ Utils由几个组件组成:</p>
<ul>
<li><p>liblzma：是一个压缩库，其API类似于zlib</p>
</li>
<li><p>xz：是一个命令行工具，语法类似于gzip</p>
</li>
<li><p>xzdec：是一个仅用于解压缩的工具，比功能齐全的xz工具小</p>
</li>
<li><p>一组shell脚本(xzgrep、xzdiff等)：从gzip改编而来，以便于查看、编辑和比较压缩文件</p>
</li>
<li><p>LZMA Utils命令行工具：简化了从LZMA Utils到XZ Utils的转换。</p>
</li>
</ul>
<p>虽然liblzma有一个类似zlib的API，但liblzma不包括任何文件I&#x2F;O函数。将计划有一个单独的I&#x2F;O库，它将通过易于使用的API抽象处理.gz、.bz2和.xz文件。</p>
<h4 id="xz文件"><a href="#xz文件" class="headerlink" title=".xz文件"></a>.xz文件</h4><p>.xz 文件格式是压缩流的容器格式。 没有归档功能，也就是说，.xz 格式只能保存单个文件，就像 gzip 和 bzip2 分别使用的 .gz 和 .bz2 文件格式一样。</p>
<p>与其他流压缩格式相比，.xz 格式提供了一些高级功能。 同时, 保持足够简单，可以在许多嵌入式系统中使用。 以下是功能摘要：</p>
<ul>
<li><p>可流式传输：总是可以在管道中创建和解压缩.xz文件;不需要寻址.xz文件格式的设计使得可以在没有定位文件特定位置的情况下，顺序地压缩和解压缩数据流。</p>
<p>.xz文件格式使用了LZMA2压缩算法。该算法使用连续的数据块进行压缩，每个块都是连续的，可以流式地处理。在使用LZMA2算法压缩时，整个文件被分成多个数据块，每个数据块都是完整的数据，而不是分散的碎片。因此，无论是在创建还是解压缩.xz文件时，都不需要随机访问文件中的特定位置，可以直接从输入流中读取数据并将输出写入输出流中。</p>
<p>这种特性使得.xz文件在处理大型数据集或进行网络传输时非常有用，因为可以减少磁盘I&#x2F;O和网络I&#x2F;O的需求，提高效率和性能。在管道中使用.xz文件进行数据传输和处理时，不需要将数据写入磁盘，而是可以直接流式传输，这可以进一步提高效率和性能。</p>
</li>
<li><p>随机存取读取：数据可以被拆分成独立的压缩块。 每个 .xz 文件都包含块的索引，当块大小足够小时，支持随机访问读取</p>
</li>
<li><p>多个过滤器（算法）：可以添加对新过滤器的支持，因此每次开发新算法时都不需要新的文件格式。 开发人员可以将开发人员特定的过滤器 ID 空间用于实验性过滤器。</p>
<blockquote>
<p>  在 .xz 文件中，有多个不同的压缩算法，每个算法都有一个独特的 ID。这些算法被称为“过滤器”，因为它们过滤并改变原始数据，以达到压缩的目的。</p>
<p>  如果有开发人员想要添加一个新的压缩算法到 .xz 文件中，他们不需要创建一个全新的文件格式。相反，他们可以使用已经存在的文件格式，然后添加自己的过滤器 ID 来支持他们的算法。这就像是在一个现有的家里添加一间新房间，而不是建造一个全新的房子。这样做的好处是，文件格式的基础结构保持不变，但是仍然可以添加新的算法，以适应不断发展的技术和需求。</p>
</blockquote>
</li>
<li><p>过滤器链接：最多可以链接四个过滤器，这与 UNIX 命令行上的管道非常相似。 链接可以提高某些文件类型的压缩率。 不同的过滤器链可以用于每个独立压缩的块。</p>
<blockquote>
<p>  在 .xz 文件中，最多可以将四个过滤器连接在一起，这就像在 UN*X 命令行中进行管道操作一样。将多个过滤器连接在一起可以改善某些文件类型的压缩比。在 .xz 文件中，每个独立压缩块都可以使用不同的过滤器链。这个特性可以提供更灵活的压缩选项，可以根据文件类型和需要来选择不同的过滤器链。这也意味着开发人员可以根据需要定制自己的过滤器链，以便在压缩不同类型的文件时获得最佳的压缩效果</p>
</blockquote>
</li>
<li><p>完整性检查：所有标头的完整性始终受 CRC32 保护。 可以使用CRC32、CRC64、SHA-256 验证实际数据的完整性，也可以完全省略校验。 将来可能会添加新的完整性检查，但不可能像过滤器 ID 那样使用特定于开发人员的检查 ID。</p>
</li>
<li><p>连接：就像 .gz 和 .bz2 文件一样，可以按原样连接 .xz 文件。 解压器可以解压一个连接的文件，就好像它是一个普通的单流 .xz 文件一样。</p>
</li>
<li><p>填充：二进制零可以附加到 .xz 文件以填充它们以填充例如 备份磁带上的一个块。 填充需要是四个字节的倍数，因为每个有效的 .xz 文件的大小都是四个字节的倍数。</p>
</li>
</ul>
<h4 id="压缩算法-LZMA2"><a href="#压缩算法-LZMA2" class="headerlink" title="压缩算法-LZMA2"></a>压缩算法-LZMA2</h4><p>LZMA2是一种压缩算法，是LZMA压缩算法的改进版本。它使用一种数据压缩技术，可以通过去除数据中的冗余信息来减小数据的大小，从而降低存储和传输数据的成本。LZMA2在处理大型文件时具有较高的压缩比，但在处理小型文件时可能不如其他算法效率高。它通常用于归档和备份数据，并且被广泛应用于许多数据压缩工具中。</p>
<h4 id="liblzma和LZMA"><a href="#liblzma和LZMA" class="headerlink" title="*liblzma和LZMA"></a>*liblzma和LZMA</h4><blockquote>
<p>  LZMA是一种压缩算法，而liblzma是用于实现LZMA算法的开源库, 其中还实现了其他压缩算法</p>
</blockquote>
<p>LZMA是一种压缩算法，它使用了LZ77算法和霍夫曼编码，被广泛用于压缩归档文件，如.tar、.gz和.xz等。</p>
<p>而liblzma则是一个开源的、实现LZMA算法的库。它提供了压缩和解压缩LZMA数据的函数，以及对不同格式的压缩文件进行读写的函数。liblzma还提供了对其他压缩算法的支持，如PPMd和BCJ。</p>
<h3 id="多种压缩算法对比"><a href="#多种压缩算法对比" class="headerlink" title="多种压缩算法对比"></a>多种压缩算法对比</h3><h4 id="Szip"><a href="#Szip" class="headerlink" title="Szip"></a>Szip</h4><p>Szip是一种专门用于科学数据压缩的算法，它基于运行长度编码和哈夫曼编码，能够对科学数据进行高效的压缩。相对于其他压缩算法，Szip具有以下优点：</p>
<ol>
<li>压缩速度快：Szip在压缩速度方面比Gzip更快，适用于大规模数据集的压缩。</li>
<li>压缩比高：Szip在压缩比方面优于Gzip，特别是对于科学数据等有大量重复模式的数据集。</li>
</ol>
<blockquote>
<p>  Szip适用于科学数据等有大量重复模式的数据集</p>
</blockquote>
<h4 id="Bzip2"><a href="#Bzip2" class="headerlink" title="Bzip2"></a>Bzip2</h4><p>Bzip2是一种高压缩比的算法，它采用了Burrows-Wheeler变换、Move-to-Front编码和哈夫曼编码等技术来实现高压缩比。相对于其他压缩算法，Bzip2具有以下优点：</p>
<ol>
<li>压缩比高：Bzip2在压缩比方面优于Gzip和Szip。</li>
<li>压缩率可调：Bzip2允许用户选择不同的压缩级别来实现不同的压缩比和速度。</li>
</ol>
<blockquote>
<p>  Bzip2适用于需要高压缩比的场景</p>
</blockquote>
<h4 id="Gzip"><a href="#Gzip" class="headerlink" title="Gzip"></a>Gzip</h4><p>Gzip是一种基于DEFLATE算法的数据压缩算法，通常用于快速压缩和解压缩数据。相对于其他压缩算法，Gzip具有以下优点：</p>
<ol>
<li>压缩速度快：Gzip在压缩速度方面比Bzip2更快，适用于对速度要求较高的场景。</li>
<li>压缩比适中：Gzip在压缩比方面适中，通常可以在快速压缩和解压缩数据的同时实现较好的压缩比。</li>
</ol>
<blockquote>
<p>  Gzip适用于快速压缩和解压缩数据的场景</p>
</blockquote>
<h4 id="ZSTD"><a href="#ZSTD" class="headerlink" title="ZSTD"></a>ZSTD</h4><p>ZSTD是一种现代的高压缩比压缩算法，由Facebook开发。它使用可调整的压缩级别，可以在快速压缩和较低压缩比之间进行权衡。ZSTD还支持多线程压缩和解压缩，以提高性能。</p>
<h4 id="LZMA"><a href="#LZMA" class="headerlink" title="LZMA"></a>LZMA</h4><p>LZMA是一种基于LZ77算法和算术编码的压缩算法，它的压缩率很高，但压缩速度较慢。LZMA适用于需要高度压缩的数据，例如操作系统安装程序和归档文件等。</p>
<h4 id="LZMA2"><a href="#LZMA2" class="headerlink" title="LZMA2"></a>LZMA2</h4><p>LZMA2是LZMA算法的改进版本，由Igor Pavlov进行了修改和优化。它比LZMA更快，需要更少的内存，并提供了更好的压缩比。LZMA2是许多压缩工具，如7-Zip和WinZip的默认压缩算法。</p>
<blockquote>
<p>  如果需要高度压缩的数据，可以选择LZMA。当然，最好的选择还需要考虑具体的使用场景和需求。</p>
</blockquote>
<h4 id="zlib"><a href="#zlib" class="headerlink" title="zlib"></a>zlib</h4><p>zlib是一种流压缩算法，常用于HTTP、PNG和ZIP等协议和文件格式中。zlib的压缩速度快，但压缩率较低，适用于需要快速传输或存储大量数据的场景。</p>
<blockquote>
<p>  如果需要快速传输或存储大量数据，可以选择zlib；</p>
</blockquote>
<h4 id="brotli"><a href="#brotli" class="headerlink" title="brotli"></a>brotli</h4><p>brotli是由Google开发的一种压缩算法，旨在提供比zlib更好的压缩率和更快的压缩速度。brotli算法在压缩静态文本、HTML、CSS和JavaScript等文本文件方面表现较好，但在压缩二进制文件等非文本文件方面表现较差。</p>
<blockquote>
<p>  如果需要压缩文本文件，可以选择brotli；</p>
</blockquote>
<h4 id="lz4"><a href="#lz4" class="headerlink" title="lz4"></a>lz4</h4><p>lz4是一种快速压缩算法，其压缩速度比LZMA2快得多，但压缩率相对较低。lz4适用于需要快速压缩和解压的场景，例如实时通信和实时数据备份等。</p>
<p><img src="/2023/05/04/01-%E7%BB%BC%E8%BF%B0/7229530882217257481.PNG" alt="7229530882217257481"></p>
<h3 id="多种算法原理"><a href="#多种算法原理" class="headerlink" title="多种算法原理"></a>多种算法原理</h3><ol>
<li><p>Huffman编码: <code>DEFLATE GZIP  ZLIB ZIP LZMA</code></p>
</li>
<li><p>RLE(Run length encoding) 算法原理:</p>
<p>AAAAAABBCDDEEEEEF -&gt; A6B2C1D2E5F1<br>RLE经常用于压缩图像文件等等，但是其缺点也很明显，比如说如果你是ABCDABCD,那么此算法就会把他压缩成A1B1C1D1A1B1C1D1,这样一来没有减小反而还增大了</p>
</li>
<li><p>LZ77算法核心思想:<br>如果文件中有两块内容相同，那么只要知道前一块的位置和大小，我们就可以确定后一块的内容，我们可以用（两者之间的距离，相同内容的长度）这样的信息来替换后一块内容。由于（两者之间的距离，相同内容的长度）这一对信息的大小小于被替换内容的大小，所以文件得到了压缩。</p>
<p>例如有一个文件的内容如下：<br><code>http://www.baidu.com http://www.qq.com</code></p>
<p>其中有些部分的内容，前面已经出现过了，下面用()括起来的部分就是相同的部分：</p>
<p><code>http://www.baidu.com (http://www.)qq(.com)</code></p>
<p>我们使用 (两者之间的距离，相同内容的长度) 这样一对信息，来替换后一块内容：</p>
<p><code>http://www.baidu.com (21,11).qq(18,4)</code></p>
<p><img src="/2023/05/04/01-%E7%BB%BC%E8%BF%B0/image-20230505114539528.png" alt="image-20230505114539528"></p>
</li>
<li><p>区间编码: <code>LZMA</code></p>
</li>
</ol>
<p>将消息(message)中的所有字符编码成一个数字</p>
<p>假设我们编码这样的一串信息<code>“AABA&lt;EOM&gt;”</code>，<code>&#39;&lt;EOM&gt;&#39;</code>是结束符(end-of-message)</p>
<p>在这个例子中，假设解码器已经知道编码器使用的是五位的十进制数字(range&#x3D;[0,100000))和字符的概率分布{A:60, B:20, <EOM>:20}。编码器将区间[0,10000)分解成三个子区间。</EOM></p>
<blockquote>
<p>  A: [0,60000)<br>  B: [60000, 80000)<br>  <code>&lt;EOM&gt;</code>: [80000,100000)</p>
</blockquote>
<p>第一个字符是’A’，因此区间可以缩小为[0,60000)。在编码’A’之后，可以继续将区间分解为三个子区间。</p>
<blockquote>
<p>  AA: [0,36000)<br>  AB: [36000, 48000)<br>  <code>A&lt;EOM&gt;</code>: [48000,60000)</p>
</blockquote>
<p>编码完前两个字符后，区间变为[0,36000)。第三个字符依然有三个选择。</p>
<blockquote>
<p>  AAA: [0,21600)	&#x2F;&#x2F; 7200 * 3<br>  AAB: [21600, 28800)	&#x2F;&#x2F; 7200<br>  <code>AA&lt;EOM&gt;</code>: [28800,36000)		&#x2F;&#x2F; 7200</p>
</blockquote>
<p>第三个字符’B’被编码完成后，区间变为[21600,28800)。继续进行第四个字符的编码选择。</p>
<blockquote>
<p>  AABA: [21600,25920)<br>  AABB: [21590, 27360)<br>  <code>AAB&lt;EOM&gt;</code>: [27360,28800)</p>
</blockquote>
<p>编码第五个字符</p>
<blockquote>
<p>  AABAA: [21600,24192)<br>  AABAB: [24192, 25056)<br>  <code>AABA&lt;EOM&gt;</code>: [25056,25920)</p>
</blockquote>
<p><code>&#39;&lt;EOM&gt;&#39;</code>是我们的最后一个字符，所以最终的区间为[25056,25920)，因为所有的以<code>&#39;251&#39;</code>开头的十进制五位数都在这个区间内，所以我们可以使用<code>&#39;251&#39;</code>来表示原始信息**<code>&#39;AAB&lt;EOM&gt;&#39;</code>**</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AE%9E%E4%B9%A0/" rel="tag"># 实习</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/04/25/491-%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97/" rel="prev" title="491.递增子序列">
      <i class="fa fa-chevron-left"></i> 491.递增子序列
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/05/05/02-xz%E6%B5%8B%E8%AF%95/" rel="next" title="02-xz测试">
      02-xz测试 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#HDF5"><span class="nav-number">1.</span> <span class="nav-text">HDF5</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#HDF5%E6%96%87%E4%BB%B6%E7%BB%84%E7%BB%87%E5%92%8C%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="nav-number">1.1.</span> <span class="nav-text">HDF5文件组织和数据模型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#HDF5-Groups"><span class="nav-number">1.1.1.</span> <span class="nav-text">HDF5 Groups</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HDF5-Datasets"><span class="nav-number">1.1.2.</span> <span class="nav-text">HDF5 Datasets</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HDF5-Attributes"><span class="nav-number">1.1.3.</span> <span class="nav-text">HDF5 Attributes</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text">压缩算法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Gzip%E3%80%81Bzip%E5%92%8CDEFLATE"><span class="nav-number">1.2.1.</span> <span class="nav-text">*Gzip、Bzip和DEFLATE</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E5%8E%9F%E7%90%86"><span class="nav-number">1.3.</span> <span class="nav-text">读写原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%80%A7%E8%83%BD"><span class="nav-number">1.4.</span> <span class="nav-text">测试性能</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XZ"><span class="nav-number">2.</span> <span class="nav-text">XZ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">2.1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#xz%E6%96%87%E4%BB%B6"><span class="nav-number">2.2.</span> <span class="nav-text">.xz文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95-LZMA2"><span class="nav-number">2.3.</span> <span class="nav-text">压缩算法-LZMA2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#liblzma%E5%92%8CLZMA"><span class="nav-number">2.4.</span> <span class="nav-text">*liblzma和LZMA</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%A7%8D%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95%E5%AF%B9%E6%AF%94"><span class="nav-number">3.</span> <span class="nav-text">多种压缩算法对比</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Szip"><span class="nav-number">3.1.</span> <span class="nav-text">Szip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bzip2"><span class="nav-number">3.2.</span> <span class="nav-text">Bzip2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Gzip"><span class="nav-number">3.3.</span> <span class="nav-text">Gzip</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ZSTD"><span class="nav-number">3.4.</span> <span class="nav-text">ZSTD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LZMA"><span class="nav-number">3.5.</span> <span class="nav-text">LZMA</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LZMA2"><span class="nav-number">3.6.</span> <span class="nav-text">LZMA2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#zlib"><span class="nav-number">3.7.</span> <span class="nav-text">zlib</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#brotli"><span class="nav-number">3.8.</span> <span class="nav-text">brotli</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#lz4"><span class="nav-number">3.9.</span> <span class="nav-text">lz4</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%A7%8D%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">多种算法原理</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="kjg"
      src="/images/WechatIMG84.jpeg">
  <p class="site-author-name" itemprop="name">kjg</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">131</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">58</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/kjgggggg" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;kjgggggg" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/651373472@qq.com" title="E-Mail → 651373472@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
</div>

<span style="text-align:center;display:block;">
<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span <div>wmr</div> </span>
</span>

        
<span style="text-align:center;display:block;">
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        本站总访问人数：
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider"></span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        本站总访问量： 
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
</span>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  
<script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '16px',
  right: '28px',
  left: 'unset',
  time: '0.3s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: '🌓',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>

</body>
</html>
